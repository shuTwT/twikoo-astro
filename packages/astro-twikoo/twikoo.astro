---
//import "@astro-twikoo/core/es/style.css"
import { Twikoo as TwikooVue,getComments } from "@astro-twikoo/core/src/main.js";
interface Props {
  envId: string;
  legacy?: boolean;
  region?: string;
  path?: string;
  lang?: string;
  enableAvatar?: boolean;
}
const props = Astro.props;
const pathname=new URL(Astro.request.url)

const prerenderComments=await getComments({
    envId:props.envId,
    url:pathname.pathname
})

---

<script>
  import "@vant/touch-emulator";
</script>
<TwikooVue
  envId={props.envId}
  client:load
  prerenderComments={prerenderComments}
/>
